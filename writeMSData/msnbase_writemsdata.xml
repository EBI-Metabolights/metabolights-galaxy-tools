<tool id="msnbase_writemsdata" name="MSnbase readMSData" version="@Wrapper_VERSION@+galaxy0">
    <description>Exports mass spectrometry files</description>
    <requirements>
        <requirement type="package" version="2.16.1">bioconductor-msnbase</requirement>
        <requirement type="package" version="1.1_5">r-batch</requirement>
    </requirements>

    <macros>
        <imports>macros.xml</imports>
    </macros>

    <expand macro="stdio"/>

    <command>
        
        <!--rough scaffolding   
            #if input is of type .RData:
                #if file is symlink:
                    get symlink as path
                    

        -->
        <![CDATA[
        @COMMAND_RSCRIPT@/msnbase_writemsdata.r
        #if $input.is_of_type("mzxml") or $input.is_of_type("mzml") or $input.is_of_type("mzdata") or $input.is_of_type("netcdf"):
            #if $os.path.islink(str($input))
                #set $source = $os.readlink(str($input))
                singlefile_galaxyPath '$source' singlefile_sampleName '$os.path.basename($source)'
            #else
                singlefile_galaxyPath '$input' singlefile_sampleName '$input.name'
            #end if
        #else
            zipfile '$input'
        #end if
        @COMMAND_LOG_EXIT@
    ]]></command>
    <inputs>
        
    </inputs>
    <outputs>

    </outputs>
    <help>

    </help>
</tool>